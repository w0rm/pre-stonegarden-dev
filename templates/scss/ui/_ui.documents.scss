$mysprite-layout: smart;
@import "documents/*.png";

/*
*  Documents
*
*/

.ui-storage {
    position: absolute;
    width: 100%;
    height: 100%;
    .ui-toolbar {
        position: absolute;
    }
}

.ui-storage-container {
    position: absolute;
    left: 0;
    top: 40px;
    width: 100%;
    bottom: 0;
    overflow: auto;
    overflow-y: scroll;
}

.ui-document {
    list-style-type:none;
    width: 160px;
    min-height: 160px;
    padding: 10px;
    display: inline-block;
    vertical-align: top;
    position: relative;
    font-size: 12px;
    background: #fff;
    .ui-document-title {
        width: 100%;
        text-overflow: ellipsis;
        overflow: hidden;
    }
    .ui-document-content {
        display: none;
    }
    .ui-document-title {
        overflow: hidden;
        width: auto;
    }
    &.folder {
        cursor: pointer;
    }
    &:hover {
        @include box-shadow(rgba(88, 88, 88, 0.2) 2px 2px 10px);
        z-index: 2;
        .ui-document-container.folder {
            @include documents-sprite(folder_hover);
        }
    }
    &.is_system:hover {
        .ui-document-container.folder {
            @include documents-sprite(system_folder_hover);
        }
    }
    &.is_parent:hover  {
        .ui-document-container.folder {
          @include documents-sprite(parent_folder_hover);
        }
    }
    
    .ui-show-contextmenu {
        left: 23px;
        top: 125px;
    }
    .ui-document-handle {
        position: absolute;
        width: 160px;
        height: 160px; 
        z-index:1;
    }
}

.ui-sortable .ui-document-handle {
    cursor: move;
}

.ui-document-dropping {
    @extend .ui-document;
    background: #ffeeee;
}

.ui-document-container {
    width: 160px;
    height: 160px;
    position: relative;
    box-sizing: border-box;
    .ui-document-extension {
        color:#fff;
        background: #660099;
        text-transform: uppercase;
        position: absolute; 
        left: 50%; 
        top: 50%;
        font-size: 10px;
        line-height: 1.1;
        margin-top: -6px;
        margin-left: -7px;
        padding: 1px;
        text-align: center;
        min-width: 20px;
    }
    &.document {
        border: 1px solid $bg-grey;
        
        &:before{
            content:"";
            @include documents-sprite(file);
            position: absolute;
            left: 65px;
            top: 60px;
            width:30px;
            height:35px;
        }
    }
    &.folder {
        @include documents-sprite(folder);
        .is_system & {
            @include documents-sprite(system_folder);
        }
        .is_parent & {
            @include documents-sprite(parent_folder);
        }
    }
    &.image {
        img {
            position: absolute;
            left: 0;
            bottom: 0;
        }
        .ui-document-extension { display: none }
    }
    .ui-document-info, .ui-document-description {
        display: none;
    }
}

.ui-documents {
    margin: 0;
    padding: 10px 0 10px 40px;
    text-indent: 0;
    font-size: 0;
    &.active:after {
      content: "Новый документ";
      @extend .ui-document;
      background: #e5f1fb;
    }
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    user-select: none;
    cursor: default;
}

.ui-dialog .ui-documents {
    padding: 0;
}

.ui-documents-list {
    .ui-document {
        display: block;
        width: auto;
        min-height: 28px;
        padding: 6px 20px;
        border-bottom: 1px solid $bg-grey;
        &:hover{ 
            @include box-shadow(none);
            background: $bg-blue;
            .ui-document-container.folder {
                background: transparent;
            }
        };
        .ui-show-contextmenu {
            left: auto;
            margin: 0;
            right: 335px;
            top: 5px;
        }
        .ui-document-handle {
            left: 0;
            top: 5px;
            width: 20px;
            height: 20px;
            @extend .ui-icon;
            @extend .ui-icon-grip-dotted-vertical;
        }
        p { margin-top:0; }
    }
    
    .ui-document-container {
        float: right;
        width: 300px;
        background: transparent;
        height: auto;
        border: none;
        &:before{ display:none};
        img { display:none; }
        &.document {
            border: none;
        }
        .ui-document-extension {
            position: static;
            display: inline-block;
            margin: 0;
            text-transform: lowercase;
            &:before { content: "." };
            padding-bottom: 2px;
            @include border-radius(3px);
        }
        .ui-document-info {
            display: block;
            float: right;
            width: 150px;
        }
        .ui-document-description {
            display: inline;
            font-size: 10px;
            color: $grey60;
        }
    }

}